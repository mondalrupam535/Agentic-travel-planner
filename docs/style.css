:root{
  --bg-start: #0F172A;
  --bg-end: #020617;
  --card:#ffffff;
  --muted:#94a3b8;
  --accent:#7c3aed;
  --accent-2:#06b6d4;
  --radius:16px;
  --max-w:1200px;
  --glass-bg: rgba(255,255,255,0.12);
  --glass-border: rgba(255,255,255,0.2);
  --glass-blur: 14px;
  --card-elev: 0 20px 40px rgba(0,0,0,0.4);
  --text:#e6eef8;
  --muted-dark:#9aa3b2;
  --page-padding:28px;
  --gradient-bg: linear-gradient(135deg, var(--bg-start), var(--bg-end));
  --accent-gradient: linear-gradient(135deg,var(--accent),var(--accent-2));
}
*{box-sizing:border-box}
html,body{height:100%}
.app{min-height:100vh;background:var(--gradient-bg);padding:var(--page-padding);font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;color:var(--text)}
.container{max-width:var(--max-w);margin:0 auto}
.container{
  max-width:var(--max-w);
  margin:28px auto;
  padding:20px;
}
.hero{margin-bottom:18px}
.hero h1{margin:0;font-size:1.6rem}
.subtitle{margin:6px 0 0;color:var(--muted)}
.glass{background:var(--glass-bg);backdrop-filter:blur(var(--glass-blur));border:1px solid var(--glass-border);border-radius:var(--radius);box-shadow:var(--card-elev)}
.glass-card{padding:18px;background:var(--glass-bg);backdrop-filter:blur(var(--glass-blur));border-radius:var(--radius);border:1px solid var(--glass-border);box-shadow:var(--card-elev);}
.glass-btn{display:inline-flex;align-items:center;justify-content:center;padding:12px 20px;border-radius:14px;border:0;color:white;cursor:pointer;font-weight:600;transition:transform 180ms ease, box-shadow 180ms ease, opacity 180ms ease;background:linear-gradient(135deg,#38BDF8,#2563EB);box-shadow:0 10px 25px rgba(56,189,248,0.35);backdrop-filter:blur(4px)}
.glass-btn:focus{outline:none;box-shadow:0 12px 30px rgba(56,189,248,0.22), 0 0 0 4px rgba(56,189,248,0.06)}
.glass-btn:hover{transform:translateY(-2px);box-shadow:0 18px 40px rgba(56,189,248,0.4)}
.glass-btn:active{transform:translateY(0);box-shadow:0 8px 18px rgba(0,0,0,0.25)}
.glass-btn:disabled, .glass-btn[disabled]{opacity:0.5;cursor:not-allowed;transform:none;box-shadow:0 6px 12px rgba(0,0,0,0.12)}
.btn-gradient{background:var(--accent-gradient)}
.btn-alt{background:linear-gradient(135deg,#4ade80,#06b6d4)}
label{font-size:0.95rem;color:var(--muted);display:block;margin-bottom:8px}
textarea{width:100%;padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);color:var(--text);min-height:120px}
input[type=file]{padding:8px}
.actions{display:flex;align-items:center;gap:12px;margin-top:14px}
.topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.brand h1{margin:0;font-size:1.25rem}
.brand .subtitle{margin:6px 0 0;color:var(--muted);font-size:0.9rem}
button:disabled{opacity:0.6;cursor:default}
.loading{display:none;color:var(--muted)}
.output{margin-top:18px;display:grid;gap:12px}
.day-card{background:rgba(255,255,255,0.03);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);box-shadow:0 8px 24px rgba(0,0,0,0.25)}

.day-card:nth-child(odd){border-left-color: rgba(255,127,127,0.14)}
.day-card:nth-child(even){border-left-color: rgba(124,58,237,0.14)}

/* decorative blobs removed for a cleaner modern look */

/* Animations */
.fade-in{animation:fadeIn 360ms ease both}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

/* Map container inside a day card */
.map-mini{height:180px;border-radius:10px;border:1px solid rgba(255,255,255,0.05);overflow:hidden;margin-top:12px}

/* Chatbox */
.chatbox{position:fixed;right:18px;bottom:18px;width:320px;max-width:92vw;background:var(--glass-bg);border-radius:12px;border:1px solid var(--glass-border);backdrop-filter:blur(8px);box-shadow:0 10px 30px rgba(2,6,23,0.2);overflow:hidden;display:flex;flex-direction:column}
.chat-header{display:flex;align-items:center;gap:8px;padding:10px;border-bottom:1px solid rgba(255,255,255,0.06)}
.chat-messages{padding:10px;max-height:300px;overflow:auto}
.chat-input{display:flex;padding:8px;border-top:1px solid rgba(255,255,255,0.04)}
.chat-input input{flex:1;padding:8px;border-radius:8px;border:1px solid rgba(15,23,42,0.05);margin-right:8px}
.chat-msg{margin-bottom:8px}
.chat-msg.user{text-align:right}
.chat-msg.ai{text-align:left}
.chat-msg .bubble{display:inline-block;padding:8px 10px;border-radius:12px;max-width:78%}
.chat-msg.user .bubble{background:var(--accent);color:white}
.chat-msg.ai .bubble{background:rgba(255,255,255,0.85)}

/* Redesigned chat styles */
#chatbox{right:22px;bottom:22px;width:360px;max-width:94vw;border-radius:16px;box-shadow:0 20px 40px rgba(0,0,0,0.45);overflow:hidden}
.chat-header{display:flex;align-items:center;justify-content:space-between;padding:12px 14px}
.chat-title{font-size:1rem}
.chat-close{background:transparent;border:0;color:var(--muted);font-size:1rem;cursor:pointer}
.chat-messages{padding:12px;max-height:360px;overflow:auto;display:flex;flex-direction:column;gap:8px}
.chat-input{display:flex;padding:12px;border-top:1px solid rgba(255,255,255,0.04);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))}
.chat-input input{flex:1;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);color:var(--text);min-width:0}
.chat-input .glass-btn{padding:10px 12px;border-radius:10px;min-width:44px;height:44px;display:inline-flex;align-items:center;justify-content:center}

/* Message bubbles */
.chat-msg{opacity:0;transform:translateY(6px);animation:fadeInSlide 300ms ease forwards}
@keyframes fadeInSlide{to{opacity:1;transform:none}}
.chat-msg.user{align-self:flex-end}
.chat-msg.user .bubble{background:linear-gradient(135deg,#38BDF8,#2563EB);border-radius:18px 18px 4px 18px;color:white;padding:10px 14px;box-shadow:0 10px 25px rgba(56,189,248,0.18)}
.chat-msg.ai{align-self:flex-start}
.chat-msg.ai .bubble{background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.08);backdrop-filter:blur(6px);padding:10px 14px;border-radius:12px;color:var(--text)}

/* subtle slide-in variants */
.chat-msg.ai{animation-name:fadeInSlideFromLeft}
.chat-msg.user{animation-name:fadeInSlideFromRight}
@keyframes fadeInSlideFromLeft{from{opacity:0;transform:translateX(-8px)}to{opacity:1;transform:none}}
@keyframes fadeInSlideFromRight{from{opacity:0;transform:translateX(8px)}to{opacity:1;transform:none}}

/* Inner shadow */
#chatbox .glass-card{box-shadow: inset 0 6px 18px rgba(0,0,0,0.25), 0 20px 40px rgba(0,0,0,0.45)}

/* Mobile friendliness */
@media (max-width:600px){
  #chatbox{right:12px;left:12px;bottom:12px;width:auto;max-width:unset}
  .chat-messages{max-height:40vh}
}

/* small UI tweaks */
.muted{color:var(--muted);font-size:0.95rem}
.history-item{padding:6px 0;border-bottom:1px dashed rgba(0,0,0,0.04)}

/* Accent buttons */
.btn-gradient{background:var(--accent-gradient);box-shadow:0 6px 20px rgba(124,58,237,0.12)}
.btn-alt{background:var(--accent-3);box-shadow:0 6px 20px rgba(7,204,180,0.08)}
.day-card h3{margin:0 0 8px}
.list{margin:6px 0 0;padding-left:16px;color:var(--muted)}
.meta{font-size:0.9rem;color:var(--muted)}
.footer{margin-top:20px;color:var(--muted);font-size:0.85rem}
@media (min-width:800px){
  .card{flex-direction:row;align-items:flex-start}
  textarea{min-width:420px}
  .actions{margin-left:auto;flex-direction:column}
}

/* Glassmorphism and layout */
.title-row{display:flex;justify-content:space-between;align-items:center}
.controls{display:flex;align-items:center;gap:8px}
.main-grid{display:grid;grid-template-columns:1fr 360px;gap:20px}
.panel-left{min-height:360px}
.panel-right{display:flex;flex-direction:column;gap:16px}
.side-widget{padding:14px}
.widget-body{color:var(--muted);max-height:300px;overflow:auto}
.prompt-box{border-radius:12px;padding:12px;font-size:1rem;box-shadow:inset 0 2px 8px rgba(16,24,40,0.04);background:rgba(255,255,255,0.02)}
.options-row{display:flex;gap:12px;margin-top:10px}
.field{display:flex;flex-direction:column}
.field.small{flex:0 0 140px}
.field input,.field select{padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.02);color:var(--text)}

/* Dark mode */
:root.dark{--bg:linear-gradient(180deg,#05060a,#071126);--text:#e6eef8;--muted:#9aa3b2;--glass-bg: rgba(20,24,32,0.5);--glass-border: rgba(255,255,255,0.04);--card: rgba(10,12,18,0.6)}

/* Toggle switch */
.switch{position:relative;display:inline-block;width:42px;height:24px}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#ccc;border-radius:24px}
.slider:before{position:absolute;content:'';height:18px;width:18px;left:3px;top:3px;background:white;border-radius:50%;transition:0.2s}
.switch input:checked + .slider{background:var(--accent)}
.switch input:checked + .slider:before{transform:translateX(18px)}

@media (max-width:900px){
  .right{width:100%;padding-left:0}
  .card{flex-direction:column}
}

/* Enhanced chatbox refinements */
#chatbox{position:fixed;right:22px;bottom:22px;width:360px;max-height:86vh;display:flex;flex-direction:column;z-index:60;background:linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));border-radius:14px;box-shadow:0 10px 40px rgba(2,6,23,0.7);backdrop-filter:blur(8px) saturate(120%)}
.chat-header{padding:12px 14px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(255,255,255,0.04)}
.chat-messages{padding:12px;overflow-y:auto;display:flex;flex-direction:column;gap:10px;max-height:62vh}
.chat-input-row{display:flex;gap:10px;padding:12px;border-top:1px solid rgba(255,255,255,0.03);align-items:flex-end}
.chat-input-row textarea{flex:1;padding:10px 12px;border-radius:10px;border:none;background:rgba(255,255,255,0.02);color:var(--text);outline:none;resize:none;max-height:120px}
.chat-close{background:transparent;border:0;color:var(--muted);font-size:1rem;cursor:pointer}
.chat-msg{display:flex;align-items:flex-end}
.chat-msg.user{justify-content:flex-end}
.chat-msg .bubble{max-width:78%;padding:10px 12px;border-radius:12px;font-size:13px;line-height:1.2}
.chat-msg.user .bubble{background:linear-gradient(90deg, rgba(56,189,248,0.12), rgba(37,99,235,0.14));color:var(--text)}
.chat-msg.ai .bubble{background:rgba(255,255,255,0.02);color:var(--text)}

@media (max-width:600px){
  #chatbox{right:12px;left:12px;bottom:12px;width:auto}
  .chat-messages{max-height:40vh}
}
